resolver: nightly-2020-06-28

packages:
- codegen
- libtorch-ffi
- libtorch-ffi-helper
- hasktorch
- examples
- experimental
- synthesis

# see https://github.com/commercialhaskell/stack/issues/4073
# with-gcc: /usr/local/bin/gcc-7

extra-include-dirs:
- deps/libtorch/include/torch/csrc/api/include
- deps/libtorch/include

extra-lib-dirs:
- deps/libtorch/lib
- deps/mklml/lib

extra-deps:
# libtorch-ffi
# - inline-c-cpp-0.4.0.0
# hasktorch
# - ghc-typelits-natnormalise-0.7
# - ghc-typelits-knownnat-0.7
# - ghc-typelits-extra-0.3.2
# examples/typed-transformer
- git: git://github.com/hasktorch/pipes-text.git
  commit: 3dd3d9519306ea06f0c15ad71bdf57e1dfd0b747
# experimental/dataloader-cifar10
- datasets-0.4.0@sha256:9bfd5b54c6c5e1e72384a890cf29bf85a02007e0a31c98753f7d225be3c7fa6a,4929
- stm-2.5.0.0@sha256:c238075f9f0711cd6a78eab6001b3e218cdaa745d6377bf83cc21e58ceec2ea1,2100
- streaming-attoparsec-1.0.0.1@sha256:fe9b878072423d3f075534fe8af24722d9ded1a1129e9a6ed5b71c4a29681b39,1146
- streaming-cassava-0.1.0.1@sha256:2d1dfeb09af62009e88311fe92f44d06dafb5cdd38879b437ea6adb3bc40acfe,1739
- GA-1.0@sha256:27841fbfc401097da63562e6a7d1cdd2460e9888026c365d023329da6169605b,1610
- store-0.7.4@sha256:ad89cd2f525bccece875423147d8a1f35cdf7a1fef1eb32a1db896e61848b70a,7825
- store-core-0.4.4.2@sha256:11403cad88cf4f3675d49baf76cb5dd56363e786c7e25ef00fa57296af29a7b2,1444
- th-utilities-0.2.4.0@sha256:ba19cd8441aa43dbaed40e9055bb5a7cbd7cf9e154f5253c6bf9293af8b1f96b,1869

nix:
  shell-file: nix/stack-shell.nix
